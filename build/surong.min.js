!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"clone",value:function(t){t="object"==(void 0===t?"undefined":i(t))?t:{};return $.extend(!0,{},t)}},{key:"ArrayMergeSameValue",value:function(t){if("object"==(void 0===t?"undefined":i(t))&&t.length&&t.length>1){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(n.push(t[r]),e[t[r]]=!0);t=n}return t}},{key:"each",value:function(t,e){if("object"==(void 0===t?"undefined":i(t)))if($.isArray(t))for(var n=0;n<t.length&&!1!==e(n,t[n]);n++);else for(var r in t)if(!1===e(r,t[r]))break}}]),t}();e.Util=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fromLine=[],this.toLine=[]}return i(t,[{key:"recordLine",value:function(t,e){"from"==t?this.fromLine.push(e):"to"==t&&this.toLine.push(e)}},{key:"syncLineMove",value:function(t){"function"!=typeof t&&(t=function(t,e){});for(var e=this.fromLine,n=this.toLine,i=0;i<e.length;i++){var r=e[i].c;r.attr("path");t(r,"from",e[i])}for(var o=0;o<n.length;o++){t(n[o].c,"to",n[o])}}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n.bBox=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":i(t))){var e=arguments;t={cx:e[0],cy:e[1],w:e[2],h:e[3]},e[4]&&(t.text=e[4])}this.opt=t,this.minWidth=t.w;var n=this.getAp();this.c=this.instance.rect(n.x,n.y,t.w,t.h);var r;r=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=r,this.resizeByText()}},{key:"resizeByText",value:function(){if(this.label){var t=this.label.getBBox(),e=Math.ceil(t.width),n=this.c.attr("w");if(e<this.minWidth&&n<this.minWidth)return;e<this.minWidth?e=this.minWidth:e+=10,this.opt.w=e;var i=this.getAp();this.c.attr({width:e,x:i.x,y:i.y})}}},{key:"move",value:function(t,e){var n=this.getCtpByAp(t,e);this.c.attr({x:t,y:e}),this.label.attr(n)}},{key:"ToSyncLine",value:function(t,e){var n=this,i=this.getCtpByAp(t,e);this.syncLineMove(function(t,e,r){var o,a=r.position;if("from"==e){var u=t.attr("path");o="get"+a.from+"p";var c=n[o](i.x,i.y);u[0]=["M",c.x,c.y],t.attr("path",u)}else if("to"==e){o="get"+a.to+"p";var l=n[o](i.x,i.y),s=t.attr("path");s[s.length-1]=["L",l.x,l.y],t.attr("path",s)}})}},{key:"ToSyncArrow",value:function(t,e){var n=this,i=this.getCtpByAp(t,e);this.syncLineMove(function(t,e,r){var o,a=r.position;if("from"==e){o="get"+a.from+"p";var u=n[o](i.x,i.y);r.updatePath([u.x,u.y])}else if("to"==e){o="get"+a.to+"p";var c=n[o](i.x,i.y);r.updatePath(null,[c.x,c.y])}})}},{key:"getStlnP",value:function(t){var e=this["get"+(t=t||"Bt")+"p"]();return e.position=t,e}},{key:"getEnlnP",value:function(t){var e=this["get"+(t=t||"T")+"p"]();return e.position=t,e}},{key:"getCtpByAp",value:function(t,e){var n=this.opt;return t+=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e-=n.h/2,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getTp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.h/2,{x:t,y:e}}},{key:"getRp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,{x:t,y:e}}},{key:"getBtp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.h/2,{x:t,y:e}}},{key:"getLp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,{x:t,y:e}}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.opt={},this.position={},this.rightAngle=!1}return i(t,[{key:"create",value:function(t,e){this.opt={p1:t,p2:e},this.c=this.instance.path("M"+t[0]+","+t[1]+"L"+e[0]+","+e[1])}},{key:"RightAngle",value:function(t){this.opt=t,this.rightAngle=!0;var e=t.p1,n=t.p2,i=20;t.d&&(i=t.d);var r="";if(e.x!=n.x&&e.y!=n.y){var o=n.x-e.x;r="L"+(e.x+o+i*(o>0?1:-1))+","+e.y+"L"+(e.x+o+i*(o>0?1:-1))+","+n.y}this.c=this.instance.path("M"+e.x+","+e.y+r+"L"+n.x+","+n.y)}},{key:"createByPoint",value:function(t){this.opt=t;var e="";r.Util.each(this.opt.points,function(t,n){n&&(e+=(e?"L":"M")+n.x+","+n.y)}),this.c=this.instance.path(e)}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.opt={},this.position={}}return i(t,[{key:"create",value:function(t,e,n){this.opt={p1:t,p2:e,r:n};var i=this.getPoints();this.c=this.instance.path("M"+t[0]+","+t[1]+"L"+e[0]+","+e[1]+"L"+i.cP.x+","+i.cP.y+"L"+i.dP.x+","+i.dP.y+"L"+e[0]+","+e[1])}},{key:"getPoints",value:function(t,e,n){var i=this.opt;t||(t=i.p1),e||(e=i.p2),n||(n=i.r);var r=Math.atan2(t[1]-e[1],e[0]-t[0])*(180/Math.PI),o=e[0]-n*Math.cos(r*(Math.PI/180)),a=e[1]+n*Math.sin(r*(Math.PI/180));return{cP:{x:o+n*Math.cos((r+120)*(Math.PI/180)),y:a-n*Math.sin((r+120)*(Math.PI/180))},dP:{x:o+n*Math.cos((r+240)*(Math.PI/180)),y:a-n*Math.sin((r+240)*(Math.PI/180))}}}},{key:"updatePath",value:function(t,e,n){var i=this.opt;t||(t=i.p1),e||(e=i.p2),n||(n=i.r);var r=this.getPoints(t,e,n);this.c.attr("path",[["M",t[0],t[1]],["L",e[0],e[1]],["L",r.cP.x,r.cP.y],["L",r.dP.x,r.dP.y],["L",e[0],e[1]]]),this.opt={p1:t,p2:e,r:n}}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=0,a={},u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"createInstance",value:function(t){return(t="object"==(void 0===t?"undefined":i(t))?t:{}).dom,"string"==typeof t.dom&&(t.dom=$(t.dom)),t.w||(t.w=parseInt(1.1*$(window).width())),t.h||(t.h=parseInt(1.1*$(window).height())),Raphael(t.dom.get(0),t.w,t.h)}},{key:"onMoveEvt",value:function(){}},{key:"onStartEvt",value:function(){}},{key:"onEndEvt",value:function(){}},{key:"getIndex",value:function(){return o+=1}},{key:"src",value:function(t,e,n){a[t]||(a[t]={});var i=a[t];return void 0===e?i:void 0===n?i[e]||null:void(i[e]=n)}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.worker=e.tree=void 0;var r=i(n(7)),o=i(n(9));e.tree=r.default,e.worker=o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=i(n(8)),u=n(0),c=i(n(5)),l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$index=c.default.getIndex(),this.Nodes={},this.config=u.Util.clone(e),this.$raphael=c.default.createInstance(this.config),this.$flow=new a.default(this.$raphael),this.setOption(n),this.draw()}return o(t,[{key:"draw",value:function(){var t=this;if(this.option){var e=this.option.nodes;this.codeIndex(e);var n=this.config,i=this.feature("background.female","rgb(190, 113, 82)"),r=this.feature("background.male","rgb(224, 223, 226)");this.createFeatureKey(i,r);for(var o=n.x||parseInt(.4*n.w),a=n.y||10,c=n.cH||50,l=n.dH||30,s={},f=function(e){var n=t.codeIndex(e),i=null;return n&&n.length>0&&u.Util.each(n,function(t,e){if(s[e])return i=s[e].y,!1}),i},h=function(e){var n=t.codeIndex(e),i=n.length,r=0;return u.Util.each(n,function(t,e){s[e]&&(r+=1)}),i-r},p=0;p<e.length;p++){var y,v=e[p],d=v.code,g=v.name||d,x=this.codeIndex(v.code),b=o;if(v.parent&&-1==v.parent.indexOf(",")){var w=this.getNodeByCode(v.parent);w&&w.c&&(b=this.getStandX(w))}if(x&&x.length>1){var k=h(d),m=Math.ceil(x.length/2),M=b-50,P=(M=b+125*(m-k),f(d));P?M=b+125*(m-k):a+=l+c/2,P=P||a,y=this.$flow.operation(M,P,100,c,g),s[d]={y:a}}else a+=l+c/2,y=this.$flow.operation(b,a,100,c,g);y.$step=v,this.drag(y),"F"==v.type?y.c.attr("fill",i):y.c.attr("fill",r),a+=c/2,y&&(this.Nodes[v.code]=y,this.line(y))}}}},{key:"createFeatureKey",value:function(t,e){this.$flow.operation(20,20,20,20,"男").c.attr("fill",e);this.$flow.operation(20,60,20,20,"女").c.attr("fill",t)}},{key:"drag",value:function(t){!function(t,e){var n={};t.c.drag(function(i,r){i+=n.x,r+=n.y,t.move(i,r),e.line&&"arrow"==e.line?t.ToSyncArrow(i,r):t.ToSyncLine(i,r)},function(){var t,e;if("circle"==this.type)t=this.attr("cx"),e=this.attr("cy");else if("rect"==this.type)t=this.attr("x"),e=this.attr("y");else if("path"==this.type){var i=this.attr("path")[0];t=i[1],e=i[2]}n.x=t,n.y=e},function(){})}(t,this.config)}},{key:"line",value:function(t){var e=this,n=u.Util.clone(t.$step);if(n.parent&&(n.parent=n.parent.replace(/\s/g,"")),n.parent){var i,r=this.config,o=function(t,n){var i,o=e.getNodeByCode(t),a=e.getNodeByCode(n);if(o&&a){var u=o.getStlnP(),c=a.getEnlnP();r.line&&"arrow"==r.line?(i=e.$flow.arrow([u.x,u.y],[c.x,c.y],4)).c.attr("fill","rgb(14, 10, 10)"):i=e.$flow.line([u.x,u.y],[c.x,c.y]),o.recordLine("from",i),a.recordLine("to",i)}};i=n.parent.indexOf(",")>-1?n.parent.split(","):[n.parent];for(var a=0;a<i.length;a++)o(i[a],n.code)}}},{key:"setOption",value:function(t){"object"==(void 0===t?"undefined":r(t))&&(this.option=u.Util.clone(t))}},{key:"getNodeByCode",value:function(t){return this.Nodes[t]?this.Nodes[t]:null}},{key:"codeIndex",value:function(t){if("object"==(void 0===t?"undefined":r(t))){for(var e={},n=0;n<t.length;n++){var i=t[n],o=i.code;if(i.parent)for(var a=i.parent.replace(/\s/g,"").split(","),l=0;l<a.length;l++){var s=a[l],f=e[s]?e[s]:0;if("object"==(void 0===f?"undefined":r(f))&&f.length&&(f=1==f.length?f[0]:f),f+=1,e[o]){if("object"!=r(e[o])){var h=e[o];if(2==f&&e[s]){e[s]=h-1;continue}e[o]=[h]}e[o].push(f),e[o]=u.Util.ArrayMergeSameValue(e[o])}else e[o]=f}else e[o]=1}console.log(e),c.default.src(this.$index,"clsMap",e)}else if(t){if(e=c.default.src(this.$index,"clsMap")){var p=e[t]||null,y=[t];for(var v in e)p==e[v]&&-1==$.inArray(v,y)&&y.push(v);return y}}}},{key:"getStandX",value:function(t){var e=null;if(t&&t.c){var n=t.c;switch(n.type){case"circle":e=n.attr("cx");break;case"rect":e=n.attr("x")+n.attr("width")/2;break;case"path":e=t.opt.cx}}return e}},{key:"feature",value:function(t,e){e=e||null;var n=this.option.feature;if(t&&"object"==(void 0===n?"undefined":r(n))){t=t.replace(/\s/g,"").split(".");var i=u.Util.clone(n);u.Util.each(t,function(t,n){if(i&&"object"==(void 0===i?"undefined":r(i)))i=i[n]||e;else if(!i)return i=e,!1}),e=i}return e}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(n(0),i(n(2))),a=i(n(3)),u=i(n(4)),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paper=e}return r(t,[{key:"operation",value:function(t,e,n,i,r){var a=new o.default(this.paper);return a.create(t,e,n,i,r),a}},{key:"line",value:function(t,e){var n=new a.default(this.paper);return n.create(t,e),n}},{key:"arrow",value:function(t,e,n){var i=new u.default(this.paper);return i.create(t,e,n),i}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(10),a=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(n(5)),c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$index=u.default.getIndex(),this.config=a.Util.clone(e),this.$raphael=u.default.createInstance(this.config),this.$flow=new o.Flow(this.$raphael),this.setOption(n),this.leastLineQue=[],this.draw()}return r(t,[{key:"cNodeMap",value:function(t,e){var n=u.default.src(this.$index,"CodeNodeMaps");return n||(n={}),t?e?(n[t]=e,u.default.src(this.$index,"CodeNodeMaps",n),this):n[t]||!1:n}},{key:"draw2",value:function(){var t=this;if(this.option){var e=this.option.step;this.codeIndex(e);for(var n=this.config,i=n.x||parseInt(.4*n.w),r=n.y||10,o=n.cH||50,u=n.dH||30,c={},l=function(e){var n=t.codeIndex(e),i=null;return n&&n.length>0&&a.Util.each(n,function(t,e){if(c[e])return i=c[e].y,!1}),i},s=function(e){var n=t.codeIndex(e),i=n.length,r=0;return a.Util.each(n,function(t,e){c[e]&&(r+=1)}),i-r},f=0;f<e.length;f++){var h=e[f],p=h.code,y=h.name||p,v=this.cNodeMap(p),d=!1;if(v&&(d=!0),!d)if(1==h.type)r+=u+o/2,(v=this.$flow.endpoint(i,r,o/2,y)).c.attr("fill","rgb(181, 216, 126)"),v.$step=h,this.drag(v),r+=o/2;else if(2==h.type){var g=100,x=this.codeIndex(p),b=i;if(h.prev&&-1==h.prev.indexOf(",")){var w=this.getNodeByCode(h.prev);w&&w.c&&(b=this.getStandX(w))}if(x&&x.length>1){var k=s(p),m=Math.ceil(x.length/2),M=b+(25+g)*(m-k),P=l(p);P?M=b+(25+g)*(m-k):r+=u+o/2,P=P||r,v=this.$flow.operation(M,P,g,o,y),c[p]={y:r}}else r+=u+o/2,v=this.$flow.operation(b,r,g,o,y);v.$step=h,this.drag(v),v.c.attr("fill","rgb(224, 223, 226)"),r+=o/2}else 3==h.type?(r+=u+o/2,(v=this.$flow.judge(i,r,g+60,o,y)).c.attr("fill","rgb(49, 174, 196)"),v.$step=h,this.drag(v),r+=o/2):9==h.type&&(r+=u+o/2,(v=this.$flow.endpoint(i,r,o/2,y)).c.attr("fill","rgb(34, 185, 41)"),v.$step=h,this.drag(v));v&&(d?this.line(v,h):(this.cNodeMap(p,v),this.line(v),this._eventBind(v)))}}}},{key:"checkPaperHight",value:function(t){var e=this.config.dom.find("svg"),n=e.height();n<t+180&&e.css({height:n+80})}},{key:"draw",value:function(){var t=this;this.getNodeCls();var e=u.default.src(this.$index,"_nodeCls"),n=a.Util.clone(this.option),i=.21,r=this.conf("cH",50),o=this.conf("dH",30),c=this.conf("h"),l=e.clsValue,s=this.conf("sColumnMk",!0);i=s?.43:r*(l-1)+o*l<c?.43:i;var f=this.conf("x",parseInt(this.conf("w")*i)),h=f,p=this.conf("y",10),y=p,v=this.conf("bkgOperCol","rgb(224, 223, 226)"),d=this.conf("bkgJudgeCol","rgb(49, 174, 196)");this.conf("currentCode",!1);e.isMuti=function(t){var n=e.map[t];return e.mapDt[n].length>1},e.getMutiY=function(n,i){var r=0;i=i||0;var o=e.map[n],u=e.mapDt[o];return u.length>1&&a.Util.each(u,function(e,n){var i=t.getNodeByCode(n);if(i)return r=t.getStandY(i),!1}),r=r||i},e.getMutiCtt=function(n){var i=e.map[n],r=e.mapDt[i],o=r.length,u=0;return o>1&&a.Util.each(r,function(e,n){t.getNodeByCode(n)&&(u+=1)}),{len:o,hasEd:u}},a.Util.each(n.step,function(n,i){var a,u,l=i.type,g=i.code,x=i.name||g;switch(s?t.checkPaperHight(y):y+2*r>c&&(y=p,h+=f),l){case 1:y+=o,(a=t.$flow.endpoint(h,y,r/2,x)).c.attr("fill",t.conf("pkgStartCol","rgb(181, 216, 126)"));break;case 2:if(u=h,e.isMuti(g)){var b=e.getMutiY(g,null),w=e.getMutiCtt(g);if(2==w.len)w.hasEd>0&&(u+=50+1.5*r);else if(w.len>2){var k=Math.ceil(w.len/2);u+=(25+2*r)*(k-(w.len-w.hasEd))}b?y=b:y+=e.getMutiY(g,2*o+r/2)}else y+=2*o+r/2;(a=t.$flow.operation(u,y,100,r,x)).c.attr("fill",v);break;case 3:y+=2*o+r/2,(a=t.$flow.judge(h,y,100,r,x)).c.attr("fill",d);break;case 9:y+=2*o+r/2,(a=t.$flow.endpoint(h,y,r/2,x)).c.attr("fill",t.conf("bkgEndCol","rgb(34, 185, 41)"))}a&&(a.$step=i,a.c.data("_code",g),a.c.data("_type",l),t.cNodeMap(g,a),t.line(a),t._eventBind(a),t.drag(a))}),this.connectLeastLines()}},{key:"getNodeCls",value:function(){var t=a.Util.clone(this.option),e=0,n={},i={};a.Util.each(t.step,function(t,r){var o=r.prev,a=r.code;o&&n[o]&&(e=n[o]),e+=1,n[a]=e,i[e]?i[e].push(a):i[e]=[a]}),u.default.src(this.$index,"_nodeCls",{map:n,mapDt:i,clsValue:e})}},{key:"drag",value:function(t){!function(t,e){var n={};t.c.drag(function(i,r){i+=n.x,r+=n.y,t.move(i,r),!e.line||"arrow"!=e.line&&"bow"!=e.line?t.ToSyncLine(i,r):t.ToSyncArrow(i,r)},function(){var t,e;if("ellipse"==this.type)t=this.attr("cx"),e=this.attr("cy");else if("rect"==this.type)t=this.attr("x"),e=this.attr("y");else if("path"==this.type){var i=this.attr("path")[0];t=i[1],e=i[2]}n.x=t,n.y=e},function(){})}(t,this.config)}},{key:"line",value:function(t,e){var n=this,i=a.Util.clone(t.$step);if(i.prev&&(i.prev=i.prev.replace(/\s/g,"")),i.prev){var r,o=this.config,u=void 0===o.rightAngle||o.rightAngle,c=this.conf("bkgLineCol","rgb(14, 10, 10)"),l=function(t,e){var i,r=n.getNodeByCode(t),a=n.getNodeByCode(e);if(r&&a){if(o.line&&"arrow"==o.line){var l=r.getStlnP(),s=a.getEnlnP();(i=n.$flow.arrow([l.x,l.y],[s.x,s.y],o.arrowLen?o.arrowLen:4)).position={from:l.position,to:s.position},i.c.attr("fill",c)}else if(o.line&&"bow"==o.line){l=r.getStlnP(),s=a.getEnlnP();var f={queue:[{x:l.x,y:l.y},{x:s.x,y:s.y}]};(i=n.$flow.bow(f)).position={from:l.position,to:s.position},i.arrow.attr({fill:c,stroke:c})}else{l=r.getStlnP(),s=a.getEnlnP();(i=u?n.$flow.rightAngleLine({p1:{x:l.x,y:l.y},p2:{x:s.x,y:s.y}}):n.$flow.line([l.x,l.y],[s.x,s.y])).position={from:l.position,to:s.position}}r.recordLine("from",i),a.recordLine("to",i);var h=n.nodeRunedMk(e);if(h&&i){var p=n.conf("bkgRunedCol","rgb(255, 0, 0)");i.c.attr({stroke:p}),i.arrow&&i.arrow.attr({fill:p,stroke:p}),a.c.attr({stroke:p}),2==h&&r.c.attr({stroke:p})}}else n.leastLineQue.push({from:t,to:e})};r=(e=e||i).prev.indexOf(",")>-1?e.prev.split(","):[e.prev];for(var s=0;s<r.length;s++)l(r[s],e.code)}}},{key:"connectLeastLines",value:function(){var t=this,e=this.config,n=void 0===e.rightAngle||e.rightAngle,i=this.conf("bkgRunedCol","rgb(255, 0, 0)"),r=this.conf("bkgLineCol","rgb(14, 10, 10)");a.Util.each(this.leastLineQue,function(o,a){!function(o,a){var u,c=t.getNodeByCode(o),l=t.getNodeByCode(a);if(c&&l){if(e.line&&"arrow"==e.line){var s=c.getStlnP(),f=l.getEnlnP();(u=t.$flow.arrow([s.x,s.y],[f.x,f.y],e.arrowLen?e.arrowLen:4)).position={from:s.position,to:f.position},u.c.attr("fill",r)}else if(e.line&&"bow"==e.line){var h=3==c.c.data("_type"),p=(s=c.getStlnP(h?"A":null),!1);h&&(p=2==l.c.data("_type")?"L":"A"),f=l.getEnlnP(p);var y={queue:[{x:s.x,y:s.y},{x:s.x-50,y:s.y},{x:s.x-50,y:f.y},{x:f.x,y:f.y}]};(u=t.$flow.bow(y)).position={from:s.position,to:f.position},u.arrow.attr({fill:r,stroke:r})}else s=c.getStlnP(),f=l.getEnlnP(),(u=n?t.$flow.rightAngleLine({p1:{x:s.x,y:s.y},p2:{x:f.x,y:f.y}}):t.$flow.line([s.x,s.y],[f.x,f.y])).position={from:s.position,to:f.position};c.recordLine("from",u),l.recordLine("to",u);var v=t.nodeRunedMk(a);v&&u&&(u.c.attr({stroke:i}),u.arrow&&u.arrow.attr({fill:i,stroke:i}),l.c.attr({stroke:i}),2==v&&c.c.attr({stroke:i}))}}(a.from,a.to)})}},{key:"setOption",value:function(t){"object"==(void 0===t?"undefined":i(t))&&(this.option=a.Util.clone(t))}},{key:"getNodeByCode",value:function(t){var e=null,n=this.cNodeMap(t);return n&&(e=n),e}},{key:"codeIndex",value:function(t){if("object"==(void 0===t?"undefined":i(t))){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.code;if(r.prev)for(var c=r.prev.replace(/\s/g,"").split(","),l=0;l<c.length;l++){var s=c[l],f=e[s]?e[s]:0;if("object"==(void 0===f?"undefined":i(f))&&f.length&&(f=1==f.length?f[0]:f),f+=1,e[o]){if("object"!=i(e[o])){var h=e[o];e[o]=[h]}e[o].push(f),e[o]=a.Util.ArrayMergeSameValue(e[o])}else e[o]=f}else e[o]=1}u.default.src(this.$index,"clsMap",e)}else if(t){if(e=u.default.src(this.$index,"clsMap")){var p=e[t]||null,y=[t];for(var v in e)p==e[v]&&-1==$.inArray(v,y)&&y.push(v);return y}}}},{key:"getStandX",value:function(t){var e=null;if(t&&t.c){var n=t.c;switch(n.type){case"circle":e=n.attr("cx");break;case"rect":e=n.attr("x")+n.attr("width")/2;break;case"path":e=t.opt.cx}}return e}},{key:"getStandY",value:function(t){var e=null;if(t&&t.c){var n=t.c;switch(n.type){case"circle":e=n.attr("cy");break;case"rect":e=n.attr("y")+n.attr("height")/2;break;case"path":e=t.opt.cy}}return e}},{key:"removeBBox",value:function(){var t=this.cNodeMap();for(var e in t){var n=t[e];n.bBox&&n.bBox.remove()}}},{key:"_eventBind",value:function(t){var e=this;t.c.click(function(){e.removeBBox(),t.bBox&&t.bBox.remove();var n=this.getBBox();t.bBox=t.instance.rect(n.x-5,n.y-5,n.width+10,n.height+10),t.bBox.attr({stroke:e.conf("bkgNodeBox","rgb(15, 13, 105)")})});var n=this.conf("texteditor",!1),r=t.label;if(n&&r){var o=this.conf("texteditor");(o="object"==(void 0===o?"undefined":i(o))?o:{}).id=o.id?o.id:"worker-txteditor",o.class=o.class?o.class:"worker-txteditor-div",r.dblclick(function(){var e=r.attr("text"),n=$("#"+o.id);if(0==n.length){var i='<div class="'+o.class+'"><input type="text" id="'+o.id+'"></div>';$("body").append(i),n=$("#"+o.id)}n.show(),n.val(e),n.css({top:r.attr("y"),left:r.attr("x")}),n.focus(),n.off("blur").on("blur",function(){var e=$(this),n=e.val();n&&r.attr("text",n),e.hide(),"function"==typeof t.resizeByText&&t.resizeByText()})})}}},{key:"conf",value:function(t,e){return e=e||null,void 0!==this.config[t]&&(e=this.config[t]),e}},{key:"nodeRunedMk",value:function(t){var e=this.conf("currentCode",!1);if(e){var n=u.default.src(this.$index,"_nodeCls"),i=n.map[e],r=n.map[t];e=r<=i&&r}return e}}]),t}();e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeJudge=e.NodeOperation=e.NodeEndpoint=e.NodeArrow=e.NodeLine=e.Flow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(n(0),i(n(11))),a=i(n(2)),u=i(n(12)),c=i(n(3)),l=i(n(4)),s=i(n(13)),f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paper=e}return r(t,[{key:"endpoint",value:function(t,e,n,i){var r=new o.default(this.paper);return r.create(t,e,n,i),r}},{key:"judge",value:function(t,e,n,i,r){var o=new u.default(this.paper);return o.create(t,e,n,i,r),o}},{key:"operation",value:function(t,e,n,i,r){var o=new a.default(this.paper);return o.create(t,e,n,i,r),o}},{key:"line",value:function(t,e){var n=new c.default(this.paper);return n.create(t,e),n}},{key:"rightAngleLine",value:function(t){var e=new c.default(this.paper);return e.RightAngle(t),e}},{key:"arrow",value:function(t,e,n){var i=new l.default(this.paper);return i.create(t,e,n),i}},{key:"bow",value:function(t){var e=new s.default(this.paper);return e.create(t),e}},{key:"getEmptyNode",value:function(t){var e=null;switch(t){case"endpoint":e=new o.default(this.paper);break;case"judge":e=new u.default(this.paper);break;case"operation":e=new a.default(this.paper);break;case"line":e=new c.default(this.paper);break;case"arrow":e=new l.default(this.paper)}return e}}]),t}();e.Flow=f,e.NodeLine=c.default,e.NodeArrow=l.default,e.NodeEndpoint=o.default,e.NodeOperation=a.default,e.NodeJudge=u.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(n(0),function(t){return t&&t.__esModule?t:{default:t}}(n(1))),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":i(t))){var e=arguments;t={cx:e[0],cy:e[1],r:e[2]},e[3]&&(t.text=e[3])}t.h=t.h?t.h:t.r,this.minWidth=2*t.r,this.opt=t,this.c=this.instance.ellipse(t.cx,t.cy,t.r,t.h);var n;n=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=n,this.resizeByText()}},{key:"resizeByText",value:function(){if(this.label){var t=this.label.getBBox(),e=Math.ceil(t.width),n=this.c.attr("rx");if(e<this.minWidth&&n<this.minWidth)return;e<this.minWidth?e=this.minWidth:e+=2,this.opt.r=e/2,this.resizeByOpt()}}},{key:"resizeByOpt",value:function(){var t=this.opt;this.c.attr({cx:t.cx,cy:t.cy,rx:t.r,ry:t.h})}},{key:"move",value:function(t,e){this.c.attr({cx:t,cy:e}),this.label.attr({x:t,y:e})}},{key:"ToSyncLine",value:function(t,e){var n=this;this.syncLineMove(function(i,r,o){var a,u=o.position;if("from"==r){var c=i.attr("path");a="get"+u.from+"p";var l=n[a](t,e);c[0]=["M",l.x,l.y],i.attr("path",c)}else if("to"==r){var s=i.attr("path");a="get"+u.to+"p";var f=n[a](t,e);s[s.length-1]=["L",f.x,f.y],i.attr("path",s)}})}},{key:"ToSyncArrow",value:function(t,e){var n=this;this.syncLineMove(function(i,r,o){var a,u=o.position;if("from"==r){a="get"+u.from+"p";var c=n[a](t,e);o.updatePath([c.x,c.y])}else if("to"==r){a="get"+u.to+"p";var l=n[a](t,e);o.updatePath(null,[l.x,l.y])}})}},{key:"getStlnP",value:function(t){var e=this["get"+(t=t||"D")+"p"]();return e.position=t,e}},{key:"getEnlnP",value:function(t){var e=this["get"+(t=t||"B")+"p"]();return e.position=t,e}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.r,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.r,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.r,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.r,{x:t,y:e}}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":i(t))){var e=arguments;t={cx:e[0],cy:e[1],w:e[2],h:e[3]},e[4]&&(t.text=e[4])}this.opt=t,this.minWidth=t.w;var n=this.getAp(),r=this.getBp(),o=this.getCp(),a=this.getDp();this.c=this.instance.path("M"+n.x+","+n.y+"L"+r.x+","+r.y+"L"+o.x+","+o.y+"L"+a.x+","+a.y+"Z");var u;u=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=u,this.resizeByText()}},{key:"resizeByText",value:function(){if(this.label){var t=this.label.getBBox(),e=Math.ceil(t.width),n=this.c.attr("w");if(e<this.minWidth&&n<this.minWidth)return;e<this.minWidth?e=this.minWidth:e+=25,this.opt.w=e,this.resizeByOpt()}}},{key:"resizeByOpt",value:function(){var t=this.getAp(),e=this.getBp(),n=this.getCp(),i=this.getDp();this.c.attr("path",[["M",t.x,t.y],["L",e.x,e.y],["L",n.x,n.y],["L",i.x,i.y],["Z"]])}},{key:"move",value:function(t,e){var n=this.getCpByAp(t,e),i=this.getBp(n.x,n.y),r=this.getCp(n.x,n.y),o=this.getDp(n.x,n.y);this.c.attr("path",[["M",t,e],["L",i.x,i.y],["L",r.x,r.y],["L",o.x,o.y],["Z"]]),this.label.attr(n)}},{key:"ToSyncLine",value:function(t,e){var n=this,i=this.getCpByAp(t,e);this.syncLineMove(function(t,e,r){var o,a=r.position;if("from"==e){o="get"+a.from+"p";var u=n[o](i.x,i.y),c=t.attr("path");c[0]=["M",u.x,u.y],t.attr("path",c)}else if("to"==e){o="get"+a.to+"p";var l=n[o](i.x,i.y),s=t.attr("path");s[s.length-1]=["L",l.x,l.y],t.attr("path",s)}})}},{key:"ToSyncArrow",value:function(t,e){var n=this,i=this.getCpByAp(t,e);this.syncLineMove(function(t,e,r){var o,a=r.position;if("from"==e){o="get"+a.from+"p";var u=n[o](i.x,i.y);r.updatePath([u.x,u.y])}else if("to"==e){o="get"+a.to+"p";var c=n[o](i.x,i.y);r.updatePath(null,[c.x,c.y])}})}},{key:"getStlnP",value:function(t){var e=this["get"+(t=t||"D")+"p"]();this.isCoincidence(e,"from")&&(e=this.getCp(),t="C");return{x:e.x,y:e.y,position:t}}},{key:"getEnlnP",value:function(t){var e=this["get"+(t=t||"B")+"p"]();return e.position=t,e}},{key:"getCpByAp",value:function(t,e){return t+=this.opt.w/2,{x:t,y:e}}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.h/2,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.h/2,{x:t,y:e}}},{key:"isCoincidence",value:function(t,e){var n=!1;if(t&&"object"==(void 0===t?"undefined":i(t))&&void 0!==t.x&&void 0!==t.y)if("from"==e){if(this.fromLine.length>0)for(var r=0;r<this.fromLine.length;r++){if((u=(a=this.fromLine[r].c.attr("path"))[0])[1]==t.x&&u[2]==t.y){n=!0;break}}}else if("to"==e&&this.toLine.length>0)for(var o=0;o<this.toLine.length;o++){var a,u;if((u=(a=this.toLine[o].c.attr("path"))[a.length-1])[1]==t.x&&u[2]==t.y){n=!0;break}}return n}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.opt={},this.position={}}return i(t,[{key:"create",value:function(t){this.opt=t,this.queueCheck(),this.bodySharp(),this.arrowSharp()}},{key:"arrowSharp",value:function(){var t=this.opt,e=t.queue,n=t.r?t.r:5,i=e.length,r=e[i-1],o=e[i-2],a=Math.atan2(o.y-r.y,r.x-o.x)*(180/Math.PI),u=r.x-n*Math.cos(a*(Math.PI/180)),c=r.y+n*Math.sin(a*(Math.PI/180)),l=u+n*Math.cos((a+120)*(Math.PI/180)),s=c-n*Math.sin((a+120)*(Math.PI/180)),f=u+n*Math.cos((a+240)*(Math.PI/180)),h=c-n*Math.sin((a+240)*(Math.PI/180));this.arrow?this.arrow.attr("path",[["M",r.x,r.y],["L",l,s],["L",f,h],["L",r.x,r.y]]):this.arrow=this.instance.path("M"+r.x+","+r.y+"L"+l+","+s+"L"+f+","+h+"L"+r.x+","+r.y)}},{key:"bodySharp",value:function(){var t=this.opt.queue,e="",n=[],i=!1,r=!0;i=!!this.c;for(var o=0;o<t.length;o++){var a=t[o];i?(r&&n.length>0&&(r=!1),n.push([r?"M":"L",a.x,a.y])):e+=(e?"L":"M")+","+a.x+","+a.y}i?this.c.attr("path",n):this.c=this.instance.path(e)}},{key:"queueCheck",value:function(){var t=this.opt.queue;if(2==t.length){var e=[],n=t[0],i=t[1];n.x<i.x?e.push({x:i.x,y:n.y}):n.x>i.x&&(e.push({x:n.x,y:i.y-20}),e.push({x:i.x,y:i.y-20})),this.opt.queue=[n].concat(e,i)}}},{key:"updatePath",value:function(t,e,n){var i=this.opt;if(t&&(i.queue[0]={x:t[0],y:t[1]}),e){var r=i.queue.length-1;i.queue[r]={x:e[0],y:e[1]}}this.queueCheck(),this.bodySharp(),this.arrowSharp()}}]),t}();e.default=r}]);