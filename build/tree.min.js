!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"clone",value:function(t){t="object"==(void 0===t?"undefined":r(t))?t:{};return $.extend(!0,{},t)}},{key:"ArrayMergeSameValue",value:function(t){if("object"==(void 0===t?"undefined":r(t))&&t.length&&t.length>1){for(var e={},n=[],o=0;o<t.length;o++)e[t[o]]||(n.push(t[o]),e[t[o]]=!0);t=n}return t}},{key:"each",value:function(t,e){if("object"==(void 0===t?"undefined":r(t)))if($.isArray(t))for(var n=0;n<t.length&&!1!==e(n,t[n]);n++);else for(var o in t)if(!1===e(o,t[o]))break}}]),t}();e.Util=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fromLine=[],this.toLine=[]}return r(t,[{key:"recordLine",value:function(t,e){"from"==t?this.fromLine.push(e):"to"==t&&this.toLine.push(e)}},{key:"syncLineMove",value:function(t){"function"!=typeof t&&(t=function(t,e){});for(var e=this.fromLine,n=this.toLine,r=0;r<e.length;r++){var o=e[r].c;o.attr("path");t(o,"from",e[r])}for(var i=0;i<n.length;i++){t(n[i].c,"to",n[i])}}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(n(3)),u=n(0),c=0,f={},l=function(){function t(){r(this,t)}return i(t,null,[{key:"createInstance",value:function(t){return(t="object"==(void 0===t?"undefined":o(t))?t:{}).dom,"string"==typeof t.dom&&(t.dom=$(t.dom)),t.w||(t.w=parseInt(1.1*$(window).width())),t.h||(t.h=parseInt(1.1*$(window).height())),Raphael(t.dom.get(0),t.w,t.h)}},{key:"onMoveEvt",value:function(){}},{key:"onStartEvt",value:function(){}},{key:"onEndEvt",value:function(){}},{key:"getIndex",value:function(){return c+=1}},{key:"src",value:function(t,e,n){f[t]||(f[t]={});var r=f[t];return void 0===e?r:void 0===n?r[e]||null:void(r[e]=n)}}]),t}(),s=function(){function t(e,n){r(this,t),this.$index=l.getIndex(),this.Nodes={},this.config=u.Util.clone(e),this.$raphael=l.createInstance(this.config),this.$flow=new a.default(this.$raphael),this.setOption(n),this.draw()}return i(t,[{key:"draw",value:function(){var t=this;if(this.option){var e=this.option.step;this.codeIndex(e);for(var n=this.config,r=n.x||parseInt(.4*n.w),o=n.y||10,i=n.cH||50,a=n.dH||30,c={},f=function(e){var n=t.codeIndex(e),r=null;return n&&n.length>0&&u.Util.each(n,function(t,e){if(c[e])return r=c[e].y,!1}),r},l=function(e){var n=t.codeIndex(e),r=n.length,o=0;return u.Util.each(n,function(t,e){c[e]&&(o+=1)}),r-o},s=0;s<e.length;s++){var y,p=e[s],h=p.code,v=p.name||h;if(1==p.type)o+=a+i/2,(y=this.$flow.endpoint(r,o,i/2,v)).c.attr("fill","rgb(181, 216, 126)"),y.$step=p,this.drag(y),o+=i/2;else if(2==p.type){var d=100,b=this.codeIndex(p.code),g=r;if(p.prev&&-1==p.prev.indexOf(",")){var x=this.getNodeByCode(p.prev);x&&x.c&&(console.log(x),g=this.getStandX(x))}if(b&&b.length>1){var w=l(h),m=Math.ceil(b.length/2),k=g-d/2,P=(k=g+(25+d)*(m-w),f(h));console.log(b),P?k=g+(25+d)*(m-w):o+=a+i/2,P=P||o,y=this.$flow.operation(k,P,d,i,v),c[h]={y:o}}else o+=a+i/2,y=this.$flow.operation(g,o,d,i,v);y.$step=p,this.drag(y),y.c.attr("fill","rgb(224, 223, 226)"),o+=i/2}else 3==p.type?(o+=a+i/2,(y=this.$flow.judge(r,o,d+60,i,v)).c.attr("fill","rgb(49, 174, 196)"),y.$step=p,this.drag(y),o+=i/2):9==p.type&&(o+=a+i/2,(y=this.$flow.endpoint(r,o,i/2,v)).c.attr("fill","rgb(34, 185, 41)"),y.$step=p,this.drag(y));y&&(this.Nodes[p.code]=y,this.line(y))}}}},{key:"drag",value:function(t){!function(t,e){var n={};t.c.drag(function(r,o){r+=n.x,o+=n.y,t.move(r,o),e.line&&"arrow"==e.line?t.ToSyncArrow(r,o):t.ToSyncLine(r,o)},function(){var t,e;if("circle"==this.type)t=this.attr("cx"),e=this.attr("cy");else if("rect"==this.type)t=this.attr("x"),e=this.attr("y");else if("path"==this.type){var r=this.attr("path")[0];t=r[1],e=r[2]}n.x=t,n.y=e},function(){})}(t,this.config)}},{key:"line",value:function(t){var e=this,n=u.Util.clone(t.$step);if(n.prev&&(n.prev=n.prev.replace(/\s/g,"")),n.prev){var r,o=this.config,i=function(t,n){var r,i=e.getNodeByCode(t),a=e.getNodeByCode(n);i&&a&&(o.line&&"arrow"==o.line?(r=e.$flow.arrow(i.getStlnP(),a.getEnlnP(),4)).c.attr("fill","rgb(14, 10, 10)"):r=e.$flow.line(i.getStlnP(),a.getEnlnP()),i.recordLine("from",r),a.recordLine("to",r))};r=n.prev.indexOf(",")>-1?n.prev.split(","):[n.prev];for(var a=0;a<r.length;a++)i(r[a],n.code)}}},{key:"setOption",value:function(t){"object"==(void 0===t?"undefined":o(t))&&(this.option=u.Util.clone(t))}},{key:"getNodeByCode",value:function(t){return this.Nodes[t]?this.Nodes[t]:null}},{key:"codeIndex",value:function(t){if("object"==(void 0===t?"undefined":o(t))){for(var e={},n=0;n<t.length;n++){var r=t[n],i=r.code;if(r.prev)for(var a=r.prev.replace(/\s/g,"").split(","),c=0;c<a.length;c++){var f=a[c],s=e[f]?e[f]:0;if(console.log(s),"object"==(void 0===s?"undefined":o(s))&&s.length&&(s=1==s.length?s[0]:s),s+=1,e[i]){if("object"!=o(e[i])){var y=e[i];e[i]=[y]}e[i].push(s),e[i]=u.Util.ArrayMergeSameValue(e[i])}else e[i]=s}else e[i]=1}l.src(this.$index,"clsMap",e)}else if(t){if(e=l.src(this.$index,"clsMap")){var p=e[t]||null,h=[t];for(var v in e)p==e[v]&&-1==$.inArray(v,h)&&h.push(v);return h}}}},{key:"getStandX",value:function(t){var e=null;if(t&&t.c){var n=t.c;switch(n.type){case"circle":e=n.attr("cx");break;case"rect":e=n.attr("x")+n.attr("width")/2;break;case"path":e=t.opt.cx}}return e}}]),t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0),r(n(4))),a=r(n(5)),u=r(n(6)),c=r(n(7)),f=r(n(8)),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.paper=e}return o(t,[{key:"endpoint",value:function(t,e,n,r){var o=new i.default(this.paper);return o.create(t,e,n,r),o}},{key:"judge",value:function(t,e,n,r,o){var i=new u.default(this.paper);return i.create(t,e,n,r,o),i}},{key:"operation",value:function(t,e,n,r,o){var i=new a.default(this.paper);return i.create(t,e,n,r,o),i}},{key:"line",value:function(t,e){var n=new c.default(this.paper);return n.create(t,e),n}},{key:"arrow",value:function(t,e,n){var r=new f.default(this.paper);return r.create(t,e,n),r}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0),function(t){return t&&t.__esModule?t:{default:t}}(n(1))),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":r(t))){var e=arguments;t={cx:e[0],cy:e[1],r:e[2]},e[3]&&(t.text=e[3])}this.opt=t,this.c=this.instance.circle(t.cx,t.cy,t.r);var n;n=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=n}},{key:"move",value:function(t,e){this.c.attr({cx:t,cy:e}),this.label.attr({x:t,y:e})}},{key:"ToSyncLine",value:function(t,e){var n=this;this.syncLineMove(function(r,o){if("from"==o){var i=r.attr("path"),a=n.getDp(t,e);r.attr("path",[["M",a.x,a.y],i[1]])}else if("to"==o){var u=n.getBp(t,e),c=r.attr("path");r.attr("path",[c[0],["L",u.x,u.y]])}})}},{key:"ToSyncArrow",value:function(t,e){var n=this;this.syncLineMove(function(r,o,i){if("from"==o){r.attr("path");var a=n.getDp(t,e);i.updatePath([a.x,a.y])}else if("to"==o){var u=n.getBp(t,e);i.updatePath(null,[u.x,u.y])}})}},{key:"getStlnP",value:function(){var t=this.getDp();return[t.x,t.y]}},{key:"getEnlnP",value:function(){var t=this.getBp();return[t.x,t.y]}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.r,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.r,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.r,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.r,{x:t,y:e}}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":r(t))){var e=arguments;t={cx:e[0],cy:e[1],w:e[2],h:e[3]},e[4]&&(t.text=e[4])}this.opt=t;var n=this.getAp();this.c=this.instance.rect(n.x,n.y,t.w,t.h);var o;o=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=o}},{key:"move",value:function(t,e){var n=this.getCtpByAp(t,e);this.c.attr({x:t,y:e}),this.label.attr(n)}},{key:"ToSyncLine",value:function(t,e){var n=this,r=this.getCtpByAp(t,e);this.syncLineMove(function(t,e){if("from"==e){var o=t.attr("path"),i=n.getBtp(r.x,r.y);t.attr("path",[["M",i.x,i.y],o[1]])}else if("to"==e){var a=n.getTp(r.x,r.y),u=t.attr("path");t.attr("path",[u[0],["L",a.x,a.y]])}})}},{key:"ToSyncArrow",value:function(t,e){var n=this,r=this.getCtpByAp(t,e);this.syncLineMove(function(t,e,o){if("from"==e){t.attr("path");var i=n.getBtp(r.x,r.y);o.updatePath([i.x,i.y])}else if("to"==e){var a=n.getTp(r.x,r.y);o.updatePath(null,[a.x,a.y])}})}},{key:"getStlnP",value:function(){var t=this.getBtp();return[t.x,t.y]}},{key:"getEnlnP",value:function(){var t=this.getTp();return[t.x,t.y]}},{key:"getCtpByAp",value:function(t,e){var n=this.opt;return t+=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e-=n.h/2,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e+=n.h/2,{x:t,y:e}}},{key:"getTp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.h/2,{x:t,y:e}}},{key:"getRp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,{x:t,y:e}}},{key:"getBtp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.h/2,{x:t,y:e}}},{key:"getLp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,e+=n.h/2,{x:t,y:e}}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.instance=t,n.opt={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"create",value:function(t){if("object"!=(void 0===t?"undefined":r(t))){var e=arguments;t={cx:e[0],cy:e[1],w:e[2],h:e[3]},e[4]&&(t.text=e[4])}this.opt=t;var n=this.getAp(),o=this.getBp(),i=this.getCp(),a=this.getDp();this.c=this.instance.path("M"+n.x+","+n.y+"L"+o.x+","+o.y+"L"+i.x+","+i.y+"L"+a.x+","+a.y+"Z");var u;u=t.text?this.instance.text(t.cx,t.cy,t.text):this.instance.text(t.cx,t.cy),this.label=u}},{key:"move",value:function(t,e){var n=this.getCpByAp(t,e),r=this.getBp(n.x,n.y),o=this.getCp(n.x,n.y),i=this.getDp(n.x,n.y);this.c.attr("path",[["M",t,e],["L",r.x,r.y],["L",o.x,o.y],["L",i.x,i.y],["Z"]]),this.label.attr(n)}},{key:"ToSyncLine",value:function(t,e){var n=this.getCpByAp(t,e),r=this.getBp(n.x,n.y),o=this.getDp(n.x,n.y);this.syncLineMove(function(t,e){if("from"==e){var n=t.attr("path");t.attr("path",[["M",o.x,o.y],n[1]])}else if("to"==e){var i=t.attr("path");t.attr("path",[i[0],["L",r.x,r.y]])}})}},{key:"ToSyncArrow",value:function(t,e){var n=this.getCpByAp(t,e),r=this.getBp(n.x,n.y),o=this.getDp(n.x,n.y);this.syncLineMove(function(t,e,n){if("from"==e){t.attr("path");n.updatePath([o.x,o.y])}else"to"==e&&n.updatePath(null,[r.x,r.y])})}},{key:"getStlnP",value:function(){var t=this.getDp();return[t.x,t.y]}},{key:"getEnlnP",value:function(){var t=this.getBp();return[t.x,t.y]}},{key:"getCpByAp",value:function(t,e){return t+=this.opt.w/2,{x:t,y:e}}},{key:"getAp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t-=n.w/2,{x:t,y:e}}},{key:"getBp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e-=n.h/2,{x:t,y:e}}},{key:"getCp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,t+=n.w/2,{x:t,y:e}}},{key:"getDp",value:function(t,e){var n=this.opt;return t=t||n.cx,e=e||n.cy,e+=n.h/2,{x:t,y:e}}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.opt={}}return r(t,[{key:"create",value:function(t,e){this.opt={p1:t,p2:e},this.c=this.instance.path("M"+t[0]+","+t[1]+"L"+e[0]+","+e[1])}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.opt={}}return r(t,[{key:"create",value:function(t,e,n){this.opt={p1:t,p2:e,r:n};var r=this.getPoints();this.c=this.instance.path("M"+t[0]+","+t[1]+"L"+e[0]+","+e[1]+"L"+r.cP.x+","+r.cP.y+"L"+r.dP.x+","+r.dP.y+"L"+e[0]+","+e[1])}},{key:"getPoints",value:function(t,e,n){var r=this.opt;t||(t=r.p1),e||(e=r.p2),n||(n=r.r);var o=Math.atan2(t[1]-e[1],e[0]-t[0])*(180/Math.PI),i=e[0]-n*Math.cos(o*(Math.PI/180)),a=e[1]+n*Math.sin(o*(Math.PI/180));return{cP:{x:i+n*Math.cos((o+120)*(Math.PI/180)),y:a-n*Math.sin((o+120)*(Math.PI/180))},dP:{x:i+n*Math.cos((o+240)*(Math.PI/180)),y:a-n*Math.sin((o+240)*(Math.PI/180))}}}},{key:"updatePath",value:function(t,e,n){var r=this.opt;t||(t=r.p1),e||(e=r.p2),n||(n=r.r);var o=this.getPoints(t,e,n);this.c.attr("path",[["M",t[0],t[1]],["L",e[0],e[1]],["L",o.cP.x,o.cP.y],["L",o.dP.x,o.dP.y],["L",e[0],e[1]]]),this.opt={p1:t,p2:e,r:n}}}]),t}();e.default=o}]);